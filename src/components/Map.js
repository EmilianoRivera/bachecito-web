"use client";
import { MapContainer, Marker, TileLayer, Popup, Polygon } from "react-leaflet";
import L from "leaflet";
import "leaflet/dist/leaflet.css";
import MarkerIcon from "../../node_modules/leaflet/dist/images/marker-icon.png";
import MarkerShadow from "../../node_modules/leaflet/dist/images/marker-shadow.png";
import "leaflet/dist/images/layers.png";
import "leaflet/dist/images/layers-2x.png";
import "leaflet/dist/images/marker-icon-2x.png";
import "leaflet/dist/images/marker-shadow.png";
import { useEffect, useState } from "react";

const polygon = [
  [19.592749, -99.12369],
  [19.588528, -99.126953],
  [19.586227, -99.133731],
  [19.584886, -99.133753],
  [19.581132, -99.137905],
  [19.578375, -99.138928],
  [19.573638, -99.141943],
  [19.572173, -99.143652],
  [19.570837, -99.144765],
  [19.568746, -99.14581],
  [19.566623, -99.145811],
  [19.565903, -99.145993],
  [19.56463, -99.146802],
  [19.562376, -99.148988],
  [19.561968, -99.149132],
  [19.560557, -99.150888],
  [19.561376, -99.151612],
  [19.561962, -99.15281],
  [19.561556, -99.153323],
  [19.561374, -99.154237],
  [19.560155, -99.156144],
  [19.557315, -99.158033],
  [19.556494, -99.158047],
  [19.555921, -99.157714],
  [19.555451, -99.157521],
  [19.555007, -99.15758],
  [19.553655, -99.158034],
  [19.549253, -99.16089],
  [19.549103, -99.160071],
  [19.549219, -99.15969],
  [19.549179, -99.159202],
  [19.548976, -99.159373],
  [19.548812, -99.158524],
  [19.548325, -99.158644],
  [19.544832, -99.151088],
  [19.541285, -99.153298],
  [19.54008, -99.154085],
  [19.535278, -99.158038],
  [19.533955, -99.158488],
  [19.532451, -99.155833],
  [19.528846, -99.158587],
  [19.528093, -99.156803],
  [19.527252, -99.158823],
  [19.526904, -99.159153],
  [19.531436, -99.174142],
  [19.531882, -99.174951],
  [19.532036, -99.175972],
  [19.530729, -99.176349],
  [19.530658, -99.17629],
  [19.529434, -99.177039],
  [19.529327, -99.177036],
  [19.528867, -99.176151],
  [19.530092, -99.175363],
  [19.527194, -99.171378],
  [19.523865, -99.17484],
  [19.523462, -99.174172],
  [19.522056, -99.169963],
  [19.517952, -99.162973],
  [19.502807, -99.157027],
  [19.506045, -99.167006],
  [19.507806, -99.170792],
  [19.508605, -99.173042],
  [19.508237, -99.173599],
  [19.50808, -99.173781],
  [19.50767, -99.174527],
  [19.507402, -99.175438],
  [19.506968, -99.176019],
  [19.506194, -99.177049],
  [19.507514, -99.182195],
  [19.507526, -99.182384],
  [19.507767, -99.182933],
  [19.508233, -99.184332],
  [19.508635, -99.185335],
  [19.509046, -99.186161],
  [19.509962, -99.18857],
  [19.509973, -99.188962],
  [19.510586, -99.191476],
  [19.511153, -99.191847],
  [19.511979, -99.194397],
  [19.512706, -99.196644],
  [19.513744, -99.200128],
  [19.51513, -99.204681],
  [19.514999, -99.204944],
  [19.514376, -99.205878],
  [19.513974, -99.206618],
  [19.512839, -99.208753],
  [19.512675, -99.208928],
  [19.512451, -99.209114],
  [19.510877, -99.210175],
  [19.509218, -99.210629],
  [19.50789, -99.211177],
  [19.506698, -99.211443],
  [19.504896, -99.211719],
  [19.503641, -99.211924],
  [19.50047, -99.212834],
  [19.498459, -99.213424],
  [19.495115, -99.214504],
  [19.489164, -99.216609],
  [19.487399, -99.217228],
  [19.484041, -99.218331],
  [19.481769, -99.219143],
  [19.479088, -99.22008],
  [19.478205, -99.220398],
  [19.476859, -99.220721],
  [19.475042, -99.221143],
  [19.474533, -99.219228],
  [19.473167, -99.21422],
  [19.472316, -99.210824],
  [19.471153, -99.206734],
  [19.469585, -99.20717],
  [19.47007, -99.208744],
  [19.46938, -99.209916],
  [19.467969, -99.211309],
  [19.467949, -99.211465],
  [19.467093, -99.211748],
  [19.467103, -99.212145],
  [19.462923, -99.213545],
  [19.462436, -99.212645],
  [19.460404, -99.213944],
  [19.45952, -99.214042],
  [19.458569, -99.214242],
  [19.456496, -99.215178],
  [19.456193, -99.21533],
  [19.453553, -99.217583],
  [19.45334, -99.218066],
  [19.452921, -99.219268],
  [19.45287, -99.219968],
  [19.452107, -99.219956],
  [19.451824, -99.219921],
  [19.450114, -99.220044],
  [19.44771, -99.220135],
  [19.446096, -99.22015],
  [19.445598, -99.219997],
  [19.445112, -99.219636],
  [19.444742, -99.219191],
  [19.444243, -99.218234],
  [19.444116, -99.218138],
  [19.444035, -99.218191],
  [19.443959, -99.218771],
  [19.443797, -99.220183],
  [19.443676, -99.220628],
  [19.441553, -99.223594],
  [19.440772, -99.224428],
  [19.438519, -99.227656],
  [19.438368, -99.227865],
  [19.43814, -99.228032],
  [19.437985, -99.228069],
  [19.437818, -99.228032],
  [19.436759, -99.227264],
  [19.436759, -99.227264],
  [19.436207, -99.227191],
  [19.435849, -99.227246],
  [19.435373, -99.227464],
  [19.435246, -99.227468],
  [19.434953, -99.227414],
  [19.434859, -99.227362],
  [19.434745, -99.227255],
  [19.434057, -99.22622],
  [19.43386, -99.226152],
  [19.432752, -99.226421],
  [19.432256, -99.226674],
  [19.43153, -99.226871],
  [19.431327, -99.226838],
  [19.431059, -99.226503],
  [19.430421, -99.225118],
  [19.429681, -99.223636],
  [19.429468, -99.223334],
  [19.42924, -99.223174],
  [19.428296, -99.222867],
  [19.427661, -99.222708],
  [19.427348, -99.222585],
  [19.427085, -99.222284],
  [19.426884, -99.222374],
  [19.426646, -99.222631],
  [19.426418, -99.222744],
  [19.427074, -99.224397],
  [19.426707, -99.225155],
  [19.426646, -99.225472],
  [19.426515, -99.225783],
  [19.426241, -99.225957],
  [19.425594, -99.226134],
  [19.424309, -99.227008],
  [19.424248, -99.22718],
  [19.424227, -99.227555],
  [19.424166, -99.227743],
  [19.424039, -99.227829],
  [19.423655, -99.22785],
  [19.423559, -99.227928],
  [19.423503, -99.228317],
  [19.423408, -99.228467],
  [19.423176, -99.228666],
  [19.422682, -99.228906],
  [19.422227, -99.22937],
  [19.421815, -99.230115],
  [19.4217, -99.230841],
  [19.421591, -99.230903],
  [19.420964, -99.231064],
  [19.420823, -99.2312],
  [19.420722, -99.23156],
  [19.420158, -99.231668],
  [19.419965, -99.231812],
  [19.419765, -99.232348],
  [19.419533, -99.232383],
  [19.419386, -99.232507],
  [19.419412, -99.232909],
  [19.419401, -99.232971],
  [19.419012, -99.23297],
  [19.418592, -99.233091],
  [19.41838, -99.233052],
  [19.418054, -99.23319],
  [19.417899, -99.233204],
  [19.417272, -99.233108],
  [19.416683, -99.233841],
  [19.416686, -99.233984],
  [19.416636, -99.234102],
  [19.416055, -99.234633],
  [19.415459, -99.235425],
  [19.41523, -99.235582],
  [19.412698, -99.236898],
  [19.412186, -99.237634],
  [19.412006, -99.238401],
  [19.41221, -99.239622],
  [19.412194, -99.239933],
  [19.411773, -99.2412],
  [19.411303, -99.242321],
  [19.410788, -99.243008],
  [19.410714, -99.243365],
  [19.410542, -99.243682],
  [19.409921, -99.244238],
  [19.408803, -99.247532],
  [19.408788, -99.247955],
  [19.408636, -99.248315],
  [19.40801, -99.24895],
  [19.407233, -99.250074],
  [19.40696, -99.250364],
  [19.406676, -99.250562],
  [19.406408, -99.25097],
  [19.406234, -99.251673],
  [19.405716, -99.252859],
  [19.405095, -99.253338],
  [19.404857, -99.254361],
  [19.404554, -99.254869],
  [19.403572, -99.25581],
  [19.403555, -99.256034],
  [19.402539, -99.256015],
  [19.400726, -99.256668],
  [19.400488, -99.256871],
  [19.400432, -99.256973],
  [19.402366, -99.258123],
  [19.402522, -99.258236],
  [19.403098, -99.25825],
  [19.403964, -99.258004],
  [19.40432, -99.257778],
  [19.404551, -99.257712],
  [19.404844, -99.257696],
  [19.404844, -99.2579],
  [19.404758, -99.258131],
  [19.404068, -99.258674],
  [19.403744, -99.258824],
  [19.403222, -99.25895],
  [19.402562, -99.259022],
  [19.401793, -99.259222],
  [19.401459, -99.259072],
  [19.400542, -99.259869],
  [19.400264, -99.260444],
  [19.399973, -99.260895],
  [19.399655, -99.261128],
  [19.399327, -99.2613],
  [19.399655, -99.261128],
  [19.399325, -99.261303],
  [19.399259, -99.261646],
  [19.399315, -99.261845],
  [19.399609, -99.26207],
  [19.399669, -99.262161],
  [19.399715, -99.262419],
  [19.399663, -99.262752],
  [19.399527, -99.263176],
  [19.399491, -99.263573],
  [19.39942, -99.263916],
  [19.399218, -99.264061],
  [19.399013, -99.26399],
  [19.398749, -99.264007],
  [19.398678, -99.264098],
  [19.398678, -99.264404],
  [19.398713, -99.264607],
  [19.398825, -99.264843],
  [19.398966, -99.26494],
  [19.398941, -99.265079],
  [19.398689, -99.265383],
  [19.39819, -99.26576],
  [19.397361, -99.266105],
  [19.396087, -99.266431],
  [19.395531, -99.26676],
  [19.394089, -99.267972],
  [19.393575, -99.268055],
  [19.392667, -99.268104],
  [19.392135, -99.26831],
  [19.39167, -99.269016],
  [19.391553, -99.269257],
  [19.391356, -99.269466],
  [19.391002, -99.269617],
  [19.390623, -99.269538],
  [19.390375, -99.269565],
  [19.390202, -99.269946],
  [19.389733, -99.271848],
  [19.389682, -99.272422],
  [19.389377, -99.272776],
  [19.388997, -99.27291],
  [19.388376, -99.272995],
  [19.387576, -99.273215],
  [19.387233, -99.273605],
  [19.387022, -99.273679],
  [19.385193, -99.276064],
  [19.385577, -99.276053],
  [19.383543, -99.27871],
  [19.382977, -99.278844],
  [19.382589, -99.279352],
  [19.382184, -99.27983],
  [19.381581, -99.280672],
  [19.381408, -99.28283],
  [19.380452, -99.283291],
  [19.379977, -99.283772],
  [19.379679, -99.28382],
  [19.379793, -99.284252],
  [19.379768, -99.284456],
  [19.379677, -99.284574],
  [19.379366, -99.284672],
  [19.379106, -99.284846],
  [19.379035, -99.285044],
  [19.378858, -99.285114],
  [19.378008, -99.28507],
  [19.377627, -99.285668],
  [19.377232, -99.285716],
  [19.376434, -99.2857],
  [19.376426, -99.286399],
  [19.376502, -99.286903],
  [19.376684, -99.287665],
  [19.375777, -99.288066],
  [19.375095, -99.28865],
  [19.375147, -99.288987],
  [19.375195, -99.289571],
  [19.374994, -99.289717],
  [19.375015, -99.290606],
  [19.374309, -99.290771],
  [19.374023, -99.291069],
  [19.373841, -99.291133],
  [19.373487, -99.291181],
  [19.373482, -99.291675],
  [19.373279, -99.292056],
  [19.372344, -99.292908],
  [19.371901, -99.293242],
  [19.371196, -99.293419],
  [19.370159, -99.293884],
  [19.369918, -99.294452],
  [19.369871, -99.29478],
  [19.369072, -99.295591],
  [19.369411, -99.297479],
  [19.369333, -99.297893],
  [19.369161, -99.298193],
  [19.368867, -99.29845],
  [19.367525, -99.299043],
  [19.369716, -99.301231],
  [19.370614, -99.300879],
  [19.37213, -99.301082],
  [19.374916, -99.30155],
  [19.375746, -99.301939],
  [19.377054, -99.301308],
  [19.377841, -99.303479],
  [19.376816, -99.305013],
  [19.373587, -99.306126],
  [19.37155, -99.307749],
  [19.371578, -99.309269],
  [19.370406, -99.310724],
  [19.37021, -99.312558],
  [19.369936, -99.313422],
  [19.369299, -99.313817],
  [19.368478, -99.314036],
  [19.367245, -99.314515],
  [19.36608, -99.315417],
  [19.3663, -99.316867],
  [19.365736, -99.317616],
  [19.364823, -99.318053],
  [19.364159, -99.318116],
  [19.363612, -99.319539],
  [19.360918, -99.321141],
  [19.358158, -99.3181],
  [19.357987, -99.318557],
  [19.357623, -99.319158],
  [19.357709, -99.320114],
  [19.358193, -99.320751],
  [19.358511, -99.321554],
  [19.358668, -99.322225],
  [19.358498, -99.322823],
  [19.358346, -99.32329],
  [19.35795, -99.323761],
  [19.356429, -99.32466],
  [19.356017, -99.325034],
  [19.355714, -99.32505],
  [19.355532, -99.325311],
  [19.355001, -99.325717],
  [19.354607, -99.325834],
  [19.353671, -99.326382],
  [19.354136, -99.32743],
  [19.35405, -99.327672],
  [19.353627, -99.327711],
  [19.35334, -99.328037],
  [19.353097, -99.328482],
  [19.352117, -99.328828],
  [19.351391, -99.328642],
  [19.350678, -99.328741],
  [19.350349, -99.328848],
  [19.349985, -99.328652],
  [19.349615, -99.328373],
  [19.349479, -99.32833],
  [19.348479, -99.3286],
  [19.3479, -99.328707],
  [19.347596, -99.32853],
  [19.346809, -99.328448],
  [19.346047, -99.328797],
  [19.345627, -99.328883],
  [19.345192, -99.328272],
  [19.344249, -99.328708],
  [19.343861, -99.328749],
  [19.343622, -99.328948],
  [19.342939, -99.329141],
  [19.342292, -99.329492],
  [19.341625, -99.329737],
  [19.34099, -99.330338],
  [19.340053, -99.33067],
  [19.339782, -99.331149],
  [19.339415, -99.331204],
  [19.338782, -99.331193],
  [19.338444, -99.33147],
  [19.337788, -99.331696],
  [19.336641, -99.33164],
  [19.334985, -99.331909],
  [19.333544, -99.332298],
  [19.332404, -99.332798],
  [19.330584, -99.333835],
  [19.306682, -99.356604],
  [19.302005, -99.35628],
  [19.296842, -99.350004],
  [19.297396, -99.353492],
  [19.296048, -99.352921],
  [19.294969, -99.351259],
  [19.294157, -99.351495],
  [19.294148, -99.351962],
  [19.293989, -99.352424],
  [19.293386, -99.353458],
  [19.293274, -99.354523],
  [19.29193, -99.353594],
  [19.27777, -99.36492],
  [19.275745, -99.361922],
  [19.273952, -99.348223],
  [19.273043, -99.347536],
  [19.272234, -99.346492],
  [19.272032, -99.346293],
  [19.271324, -99.346157],
  [19.270809, -99.34584],
  [19.269474, -99.34469],
  [19.268868, -99.343484],
  [19.268539, -99.343055],
  [19.26809, -99.341539],
  [19.267781, -99.340933],
  [19.267697, -99.339149],
  [19.264036, -99.337631],
  [19.259653, -99.339859],
  [19.258401, -99.340102],
  [19.255393, -99.340687],
  [19.251973, -99.341349],
  [19.250214, -99.341631],
  [19.247554, -99.342062],
  [19.241126, -99.342335],
  [19.237927, -99.330828],
  [19.232571, -99.326719],
  [19.232668, -99.321303],
  [19.2292, -99.31535],
  [19.221506, -99.316244],
  [19.213716, -99.307133],
  [19.206147, -99.306138],
  [19.202642, -99.304678],
  [19.200514, -99.304441],
  [19.198256, -99.303958],
  [19.197191, -99.303916],
  [19.192473, -99.30304],
  [19.190863, -99.30277],
  [19.188427, -99.301336],
  [19.171233, -99.295017],
  [19.14661, -99.287611],
  [19.1317, -99.278699],
  [19.096064, -99.226774],
  [19.096064, -99.226774],
  [19.095581, -99.220267],
  [19.094859, -99.210558],
  [19.09283, -99.18293],
  [19.089296, -99.13538],
  [19.062067, -99.12544],
  [19.048726, -99.062089],
  [19.050706, -99.058686],
  [19.075759, -99.043207],
  [19.08538, -99.028992],
  [19.078765, -98.983587],
  [19.074464, -98.978999],
  [19.079565, -98.973695],
  [19.083149, -98.968283],
  [19.085855, -98.965724],
  [19.090964, -98.963703],
  [19.092116, -98.96324],
  [19.095589, -98.961242],
  [19.104283, -98.959064],
  [19.10905, -98.95895],
  [19.111306, -98.958413],
  [19.112565, -98.95869],
  [19.113651, -98.958703],
  [19.11963, -98.95766],
  [19.122379, -98.957504],
  [19.133064, -98.961104],
  [19.135687, -98.962386],
  [19.139816, -98.964603],
  [19.140414, -98.965118],
  [19.143876, -98.966451],
  [19.145892, -98.962553],
  [19.149527, -98.954637],
  [19.153662, -98.958161],
  [19.156472, -98.960559],
  [19.157043, -98.961045],
  [19.164444, -98.967357],
  [19.168645, -98.952393],
  [19.176772, -98.956184],
  [19.176643, -98.956521],
  [19.179169, -98.959841],
  [19.187032, -98.966399],
  [19.189742, -98.9677],
  [19.197936, -98.966978],
  [19.199908, -98.967031],
  [19.203121, -98.967696],
  [19.204254, -98.969686],
  [19.206132, -98.967494],
  [19.206243, -98.967226],
  [19.206651, -98.96716],
  [19.207046, -98.967182],
  [19.207337, -98.967419],
  [19.207632, -98.967049],
  [19.209006, -98.966832],
  [19.210484, -98.96837],
  [19.21056, -98.968531],
  [19.210588, -98.96808],
  [19.210705, -98.967812],
  [19.210989, -98.967625],
  [19.211663, -98.967156],
  [19.211872, -98.966759],
  [19.213241, -98.964311],
  [19.213048, -98.963531],

  [19.214151, -98.962693],
  [19.213882, -98.959754],
  [19.214414, -98.960033],
  [19.215125, -98.95745],
  [19.214648, -98.953952],
  [19.21544, -98.953679],
  [19.215273, -98.952896],
  [19.215501, -98.953261],
  [19.216248, -98.952378],
  [19.218177, -98.951085],
  [19.215627, -98.942552],
  [19.223232, -98.940307],
  [19.224621, -98.944765],
  [19.224915, -98.945236],
  [19.224966, -98.945926],
  [19.226967, -98.952196],
  [19.228803, -98.957907],
  [19.23024, -98.962392],
  [19.232217, -98.96858],
  [19.249937, -98.965991],
  [19.253127, -98.976533],
  [19.257013, -98.975543],
  [19.259478, -98.974917],
  [19.261166, -98.974606],
  [19.268156, -98.973277],
  [19.279267, -98.971293],
  [19.287926, -98.969952],
  [19.305964, -98.96722],
  [19.305955, -98.966284],
  [19.30637, -98.965345],
  [19.306893, -98.964768],
  [19.307927, -98.964397],
  [19.315006, -98.963342],
  [19.316706, -98.962971],
  [19.323226, -98.9579],
  [19.329757, -98.965679],
  [19.331936, -98.968261],
  [19.33702, -98.974292],
  [19.338358, -98.975497],
  [19.339109, -98.975984],
  [19.342131, -98.977806],
  [19.343272, -98.978782],
  [19.344294, -98.979842],
  [19.347231, -98.982884],
  [19.351324, -98.987139],
  [19.351923, -98.987763],
  [19.355217, -98.991207],
  [19.356696, -98.992937],
  [19.358147, -98.994554],
  [19.35853, -98.994554],
  [19.35885, -98.994454],
  [19.359063, -98.994165],
  [19.360411, -98.993458],
  [19.367002, -98.99175],
  [19.367473, -98.991793],
  [19.367609, -98.991938],
  [19.378208, -99.009968],
  [19.38302, -99.019123],
  [19.38434, -99.021902],
  [19.390096, -99.034615],
  [19.397857, -99.051604],
  [19.399334, -99.054853],
  [19.400699, -99.05814],
  [19.411277, -99.057026],
  [19.417497, -99.056395],
  [19.417538, -99.056416],
  [19.418783, -99.056246],
  [19.421844, -99.055852],
  [19.422285, -99.055745],
  [19.424297, -99.05519],
  [19.426, -99.054381],
  [19.43051, -99.052351],
  [19.435036, -99.050411],
  [19.439635, -99.048211],
  [19.442351, -99.046446],
  [19.44314, -99.047133],
  [19.443828, -99.047369],
  [19.44499, -99.048019],
  [19.446293, -99.048725],
  [19.448705, -99.050053],
  [19.450724, -99.051147],
  [19.45255, -99.051933],
  [19.458461, -99.0545],
  [19.466268, -99.057932],
  [19.471117, -99.060074],
  [19.479531, -99.063715],
  [19.480007, -99.063967],
  [19.480732, -99.064241],
  [19.481305, -99.064494],
  [19.481528, -99.064543],
  [19.48166, -99.064698],
  [19.481872, -99.064873],
  [19.48891, -99.067835],
  [19.489079, -99.06799],
  [19.493722, -99.066087],
  [19.49513, -99.065466],
  [19.496537, -99.06484],
  [19.498771, -99.063869],
  [19.499385, -99.065445],
  [19.504089, -99.077651],
  [19.506326, -99.082807],
  [19.50767, -99.085884],
  [19.508983, -99.089052],
  [19.509456, -99.09038],
  [19.511141, -99.094105],
  [19.512083, -99.096173],
  [19.512636, -99.097389],
  [19.511286, -99.10341],
  [19.510321, -99.105508],
  [19.509889, -99.105928],
  [19.510172, -99.106136],
  [19.510424, -99.106572],
  [19.510176, -99.107034],
  [19.509691, -99.107293],
  [19.511026, -99.107631],
  [19.510454, -99.107829],
  [19.510498, -99.108635],
  [19.511097, -99.108962],
  [19.510303, -99.109429],
  [19.510439, -99.109904],
  [19.511036, -99.110232],
  [19.511175, -99.110592],
  [19.511066, -99.114403],
  [19.513055, -99.115922],
  [19.513243, -99.116877],
  [19.516186, -99.120876],
  [19.516239, -99.121033],
  [19.521217, -99.125892],
  [19.524075, -99.12739],
  [19.524525, -99.127999],
  [19.525882, -99.128179],
  [19.531707, -99.127379],
  [19.535077, -99.127373],
  [19.536095, -99.130574],
  [19.539336, -99.128185],
  [19.541661, -99.125966],
  [19.542948, -99.124968],
  [19.544025, -99.12421],
  [19.54545, -99.122725],
  [19.549137, -99.121038],
  [19.552189, -99.118469],
  [19.554031, -99.115615],
  [19.55666, -99.115712],
  [19.564893, -99.108096],
  [19.568726, -99.111808],
  [19.579776, -99.114643],
  [19.581451, -99.116902],
  [19.584453, -99.118585],
  [19.590585, -99.117876],
  [19.591994, -99.119454],
];

const Map = () => {
  const [rep, setRep] = useState([]);
  useEffect(() => {
    async function fetchData() {
      try {
        const res = await fetch("/api/Reportes");
        if (!res.ok) {
          throw new Error("Failed to fetch data");
        }
        const data = await res.json();
        setRep(data);
      } catch (error) {
        console.log("Error fetching data: ", error);
      }
    }

    fetchData();
  }, []);
  function reverse(ubi, descripcion) {
    //aplicar logica para pasar de ubicacion a coordenadas y eso mandarlo al marcador
  }

  rep.map((rep) => {
    reverse(rep.ubicacion, rep.descripcion)
    console.log(rep)
  });
  return (
    <div>
      <MapContainer
        style={{
          height: "500px",
          width: "500px",
        }}
        center={[19.453986, -99.17505]}
        zoom={10.2}
        scrollWheelZoom={false}
        maxBounds={[
          [19.0, -99.5],
          [19.6, -98.8],
        ]}
      >
        <TileLayer
          attribution='&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a> contributors'
          url="https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"
        />
        <Polygon color="purple" positions={polygon} />
        <Marker
          icon={
            new L.Icon({
              iconUrl: MarkerIcon.src,
              iconRetinaUrl: MarkerIcon.src,
              iconSize: [25, 41],
              iconAnchor: [12.5, 41],
              popupAnchor: [0, -41],
              shadowUrl: MarkerShadow.src,
              shadowSize: [41, 41],
            })
          }
          position={[19.453986, -99.17505]}
        >
          <Popup>HOLA</Popup>
        </Marker>
      </MapContainer>
    </div>
  );
};

export default Map;
